<div class="min-h-screen flex items-center justify-center bg-primary p-8">
    <div class="bg-secondary rounded-3xl shadow-2xl p-14 w-full max-w-3xl">
        <h2 class="text-4xl font-bold text-white text-center mb-12 flex items-center justify-center gap-4">
            <i class="fa-solid fa-user-secret text-accent"></i>
            Change Password
        </h2>

        <!-- Password Change Form -->
        <form class="space-y-8" #changePasswordForm="ngForm" (ngSubmit)="changePassword(changePasswordForm)">

            <!-- Email Field -->
            <div>
                <label class="block text-white text-lg mb-3">Email Address</label>
                <div class="flex items-center bg-primary rounded-lg p-4 focus-within:ring-2 focus-within:ring-accent">
                    <i class="fas fa-envelope text-accent text-2xl mr-4"></i>
                    <input type="email" name="email" [(ngModel)]="userEmail" required #emailInput="ngModel"
                        [pattern]="emailPattern" placeholder="Enter your email"
                        class="bg-transparent flex-1 text-white text-lg focus:outline-none" />
                </div>

                <!-- Error messages -->
                <p class="text-red-500 text-sm mt-1"
                    *ngIf="emailInput.invalid && emailInput.touched && !emailInput.errors?.['pattern']">
                    *Please enter a valid email.
                </p>
                <p class="text-red-500 text-sm mt-1"
                    *ngIf="emailInput.invalid && emailInput.touched && emailInput.errors?.['pattern']">
                    *Email must be in the format email&#64;example.com.
                </p>
            </div>

            <!-- Old Password Field -->
            <div>
                <label class="block text-white text-lg mb-3">Current Password</label>
                <div class="flex items-center bg-primary rounded-lg p-4 focus-within:ring-2 focus-within:ring-accent">
                    <i class="fas fa-lock text-accent text-2xl mr-4"></i>
                    <input type="password" name="oldPassword" [(ngModel)]="oldPassword" required
                        #oldPasswordInput="ngModel" placeholder="Enter current password"
                        class="bg-transparent flex-1 text-white text-lg focus:outline-none" />
                </div>
                <p class="text-red-500 text-sm mt-1" *ngIf="oldPasswordInput.invalid && oldPasswordInput.touched">
                    *Current password is required.
                </p>
            </div>

            <!-- New Password Field -->
            <div>
                <label class="block text-white text-lg mb-3">New Password</label>
                <div class="flex items-center bg-primary rounded-lg p-4 focus-within:ring-2 focus-within:ring-accent">
                    <i class="fas fa-key text-accent text-2xl mr-4"></i>
                    <input type="password" name="newPassword" [(ngModel)]="newPassword" required minlength="8"
                        #newPasswordInput="ngModel" placeholder="Enter new password"
                        class="bg-transparent flex-1 text-white text-lg focus:outline-none" />
                </div>
                <p class="text-red-500 text-sm mt-1" *ngIf="newPasswordInput.invalid && newPasswordInput.touched">
                    *Password must be at least 8 characters.
                </p>
            </div>

            <!-- Error and Success Messages -->
            <div *ngIf="errorMessage" class="bg-red-500 text-white p-3 rounded-lg text-center">
                {{ errorMessage }}
            </div>
            <div *ngIf="successMessage" class="bg-green-500 text-white p-3 rounded-lg text-center">
                {{ successMessage }}
            </div>

            <!-- Submit Button -->
            <button type="submit"
                class="w-full bg-accent text-white font-bold py-5 rounded-xl text-2xl hover:bg-opacity-90 transition">
                Update Password
            </button>
        </form>
    </div>
</div>